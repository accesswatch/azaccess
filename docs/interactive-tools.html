<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interactive Tools | Accessibility at Arizona</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="scripts/alt-text-data.js" defer></script>
    <script src="scripts/alt-text-engine.js" defer></script>
    <script src="../../scripts/header.js" defer></script>
    <style>
      .tool-section {
        background: #fff;
        border: 1px solid #e0e0e0;
        border-radius: 12px;
        padding: 2rem;
        margin: 2rem 0;
      }
      .tool-section h3 {
        margin-top: 0;
        color: #1565c0;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      /* Contrast Checker */
      .contrast-inputs {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin: 1.5rem 0;
      }
      @media (max-width: 600px) {
        .contrast-inputs {
          grid-template-columns: 1fr;
        }
      }
      .color-input-group {
        background: #f5f5f5;
        padding: 1.25rem;
        border-radius: 8px;
      }
      .color-input-group label {
        display: block;
        font-weight: 600;
        margin-bottom: 0.75rem;
      }
      .color-picker-row {
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }
      .color-picker-row input[type="color"] {
        width: 60px;
        height: 40px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      .color-picker-row input[type="text"] {
        flex: 1;
        padding: 0.5rem;
        font-family: monospace;
        font-size: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
      .contrast-preview {
        padding: 2rem;
        border-radius: 8px;
        text-align: center;
        margin: 1.5rem 0;
        transition: all 0.3s ease;
      }
      .contrast-preview .sample-text {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
      }
      .contrast-preview .sample-small {
        font-size: 0.9rem;
      }
      .contrast-results {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
      }
      .contrast-result {
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
      }
      .contrast-result.pass {
        background: #e8f5e9;
        border: 2px solid #4caf50;
      }
      .contrast-result.fail {
        background: #ffebee;
        border: 2px solid #f44336;
      }
      .contrast-ratio {
        font-size: 2rem;
        font-weight: 700;
      }
      .pass .contrast-ratio {
        color: #2e7d32;
      }
      .fail .contrast-ratio {
        color: #c62828;
      }
      .contrast-label {
        font-size: 0.9rem;
        color: #666;
      }
      .result-icon {
        font-size: 1.5rem;
      }

      /* Alt Text Practice ‚Äî upgraded */
      .alt-text-exercise {
        margin: 1.5rem 0;
        padding: 1.5rem;
        background: #f5f5f5;
        border-radius: 8px;
      }
      .alt-text-image {
        max-width: 100%;
        max-height: 300px;
        display: block;
        margin: 0 auto 1rem;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .alt-text-input {
        width: 100%;
        padding: 0.75rem;
        font-size: 1rem;
        border: 2px solid #ddd;
        border-radius: 8px;
        margin: 0.5rem 0 1rem;
      }
      .alt-text-input:focus {
        border-color: var(--ua-maroon, #ab0520);
        outline: 3px solid var(--ua-maroon, #ab0520);
        outline-offset: 2px;
      }
      .alt-text-feedback {
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
      }
      .alt-text-feedback.excellent,
      .alt-text-feedback.good {
        background: #e8f5e9;
        border-left: 4px solid #4caf50;
      }
      .alt-text-feedback.needs-improvement {
        background: #fff8e1;
        border-left: 4px solid #ffa000;
      }
      .alt-text-feedback.poor {
        background: #fff3e0;
        border-left: 4px solid #ff7043;
      }
      .alt-text-feedback.insufficient {
        background: #ffebee;
        border-left: 4px solid #ef5350;
      }
      .image-nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 1rem;
      }
      .image-nav button {
        padding: 0.5rem 1rem;
        background: #1565c0;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.95rem;
      }
      .image-nav button:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      .image-nav button:focus {
        outline: 3px solid var(--ua-maroon, #ab0520);
        outline-offset: 2px;
      }
      .alt-btn-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .alt-btn-row button {
        padding: 0.6rem 1.2rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
      }
      .alt-btn-row button:focus {
        outline: 3px solid var(--ua-maroon, #ab0520);
        outline-offset: 2px;
      }
      .alt-btn-check {
        background: #1565c0;
        color: #fff;
      }
      .alt-btn-check:hover {
        background: #0d47a1;
      }
      .alt-btn-hint {
        background: #fff;
        color: #1565c0;
        border: 1px solid #1565c0 !important;
      }
      .alt-btn-reveal {
        background: #f5f5f5;
        color: #333;
        border: 1px solid #ccc !important;
      }
      .alt-btn-retry {
        background: #fff;
        color: #1565c0;
        border: 1px solid #1565c0 !important;
      }

      /* Progress dots */
      .alt-progress {
        display: flex;
        gap: 0.5rem;
        align-items: center;
        margin-bottom: 1rem;
      }
      .alt-progress-dot {
        width: 1.1rem;
        height: 1.1rem;
        border-radius: 50%;
        border: 2px solid #999;
        background: #fff;
        display: inline-block;
      }
      .alt-progress-dot.active {
        border-color: #1565c0;
        background: #bbdefb;
      }
      .alt-progress-dot.completed {
        border-color: #4caf50;
        background: #4caf50;
      }
      .alt-progress-label {
        font-size: 0.9rem;
        color: #555;
        margin-left: 0.5rem;
      }

      /* Type badge */
      .alt-type-badge {
        display: inline-block;
        padding: 0.2rem 0.65rem;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.04em;
        margin-bottom: 0.5rem;
      }
      .alt-type-badge.simple {
        background: #e3f2fd;
        color: #0d47a1;
      }
      .alt-type-badge.contextual {
        background: #e8eaf6;
        color: #283593;
      }
      .alt-type-badge.informational {
        background: #fce4ec;
        color: #880e4f;
      }
      .alt-type-badge.decorative {
        background: #f3e5f5;
        color: #6a1b9a;
      }
      .alt-type-badge.complex {
        background: #fff3e0;
        color: #e65100;
      }

      /* Model answer reveal */
      .alt-model-answer {
        margin-top: 1rem;
        padding: 1rem;
        background: #e3f2fd;
        border-radius: 8px;
        border-left: 4px solid #1565c0;
      }
      .alt-model-answer ul {
        margin: 0.5rem 0 0 1.2rem;
        padding: 0;
      }
      .alt-model-answer li {
        margin: 0.25rem 0;
      }

      /* Hint panel */
      .alt-hint-panel {
        margin-top: 0.75rem;
        padding: 0.75rem 1rem;
        background: #fffde7;
        border-left: 4px solid #fdd835;
        border-radius: 4px;
      }

      /* Summary panel */
      .alt-summary {
        margin-top: 2rem;
        padding: 1.5rem;
        background: #e8f5e9;
        border: 2px solid #4caf50;
        border-radius: 10px;
      }
      .alt-summary.mixed {
        background: #fff8e1;
        border-color: #ffa000;
      }
      .alt-summary.poor {
        background: #ffebee;
        border-color: #ef5350;
      }
      .alt-summary h4 {
        margin-top: 0;
      }
      .alt-summary ul {
        margin: 0.5rem 0;
        padding-left: 1.5rem;
      }

      /* Heading Validator */
      .heading-input {
        width: 100%;
        min-height: 200px;
        padding: 1rem;
        font-family: monospace;
        font-size: 0.95rem;
        border: 2px solid #ddd;
        border-radius: 8px;
        margin: 1rem 0;
      }
      .heading-input:focus {
        border-color: #1565c0;
        outline: none;
      }
      .heading-output {
        margin: 1.5rem 0;
      }
      .heading-tree {
        font-family: monospace;
        padding: 1rem;
        background: #f5f5f5;
        border-radius: 8px;
        white-space: pre-wrap;
      }
      .heading-error {
        color: #c62828;
        background: #ffebee;
        padding: 0.5rem;
        border-radius: 4px;
        margin: 0.5rem 0;
      }
      .heading-warning {
        color: #f57c00;
        background: #fff3e0;
        padding: 0.5rem;
        border-radius: 4px;
        margin: 0.5rem 0;
      }
      .heading-success {
        color: #2e7d32;
        background: #e8f5e9;
        padding: 0.5rem;
        border-radius: 4px;
        margin: 0.5rem 0;
      }
      .analyze-btn {
        padding: 0.75rem 1.5rem;
        background: #1565c0;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
      }
      .analyze-btn:hover {
        background: #0d47a1;
      }

      /* Link Text Checker */
      .link-examples {
        display: grid;
        gap: 1rem;
        margin: 1.5rem 0;
      }
      .link-example {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem;
        background: #f5f5f5;
        border-radius: 8px;
      }
      .link-status {
        font-size: 1.5rem;
        flex-shrink: 0;
      }
      .link-content {
        flex: 1;
      }
      .link-text {
        font-weight: 600;
        color: #1565c0;
      }
      .link-context {
        font-size: 0.9rem;
        color: #666;
        margin-top: 0.25rem;
      }
      .link-verdict {
        font-size: 0.85rem;
        margin-top: 0.5rem;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        display: inline-block;
      }
      .link-verdict.good {
        background: #e8f5e9;
        color: #2e7d32;
      }
      .link-verdict.bad {
        background: #ffebee;
        color: #c62828;
      }
    </style>
  </head>
  <body>
    <a class="skip-link" href="#maincontent">Skip to main content</a>
    <header>
      <div class="site-header">
        <div class="site-header-brand">
          University of Arizona ¬∑ Digital Accessibility
        </div>
        <button
          type="button"
          class="nav-toggle"
          aria-expanded="false"
          aria-controls="primary-nav"
          aria-label="Open navigation menu"
        >
          Menu
        </button>
        <nav class="site-header-nav" aria-label="Primary">
          <a href="home.html">Home</a>
          <a href="roles.html">I Am A...</a>
          <a href="documents-media.html">Documents &amp; Media</a>
          <a href="web-app.html">Web &amp; Apps</a>
          <a href="teaching-learning.html">Teaching &amp; Learning</a>
          <a href="procurement.html">Procurement</a>
          <a href="tools-checklists.html" aria-current="page"
            >Tools &amp; Checklists</a
          >
          <a href="policies-governance.html">Policies &amp; Governance</a>
          <a href="support.html">Support</a>
        </nav>
      </div>
      <nav aria-label="Breadcrumb">
        <p>
          <a href="home.html">Home</a> /
          <a href="tools-checklists.html">Tools</a> / Interactive Tools
        </p>
      </nav>
      <h1>Interactive Accessibility Tools</h1>
      <p>Nine hands-on tools to practice, test, and learn accessibility skills &mdash; from checking color contrast and writing alt text to simulating low vision and taking a WCAG quiz. No installation needed; everything runs right here in your browser.</p>
    </header>
    <main id="maincontent">
      <!-- Tool 1: Color Contrast Checker -->
      <section class="tool-section" aria-labelledby="contrast-title">
        <h2 id="contrast-title">
          <span aria-hidden="true">üé®</span> Color Contrast Checker
        </h2>
        <p>
          Enter foreground and background colors to instantly calculate their contrast ratio.
          WCAG 2.2 Level AA requires at least <strong>4.5:1</strong> for normal text and
          <strong>3:1</strong> for large text (18 pt+ or 14 pt+ bold). This checker shows
          pass/fail results for both AA and AAA conformance levels, helping you pick color
          combinations that everyone can read &mdash; including people with low vision or
          color blindness.
        </p>

        <div class="contrast-inputs">
          <div class="color-input-group">
            <label for="fg-color">Text color (foreground)</label>
            <div class="color-picker-row">
              <input
                type="color"
                id="fg-color-picker"
                value="#000000"
                aria-label="Pick foreground color"
              />
              <input
                type="text"
                id="fg-color"
                value="#000000"
                placeholder="#000000"
                aria-describedby="fg-format"
              />
            </div>
            <small id="fg-format">Enter hex color (e.g., #1565c0)</small>
          </div>
          <div class="color-input-group">
            <label for="bg-color">Background color</label>
            <div class="color-picker-row">
              <input
                type="color"
                id="bg-color-picker"
                value="#ffffff"
                aria-label="Pick background color"
              />
              <input
                type="text"
                id="bg-color"
                value="#ffffff"
                placeholder="#ffffff"
                aria-describedby="bg-format"
              />
            </div>
            <small id="bg-format">Enter hex color (e.g., #ffffff)</small>
          </div>
        </div>

        <div
          id="contrast-preview"
          class="contrast-preview"
          style="background: #ffffff; color: #000000"
        >
          <p class="sample-text"><strong>Sample text at 16px</strong></p>
          <p class="sample-small">
            Small text at 14px ‚Äî harder to read with low contrast
          </p>
        </div>

        <div id="contrast-results" class="contrast-results" aria-live="polite">
          <div class="contrast-result pass" id="result-ratio">
            <div class="contrast-ratio">21:1</div>
            <div class="contrast-label">Contrast ratio</div>
          </div>
          <div class="contrast-result pass" id="result-aa-normal">
            <div class="result-icon">‚úì</div>
            <div class="contrast-label">AA Normal text (4.5:1)</div>
          </div>
          <div class="contrast-result pass" id="result-aa-large">
            <div class="result-icon">‚úì</div>
            <div class="contrast-label">AA Large text (3:1)</div>
          </div>
          <div class="contrast-result pass" id="result-aaa">
            <div class="result-icon">‚úì</div>
            <div class="contrast-label">AAA Enhanced (7:1)</div>
          </div>
        </div>

        <details>
          <summary>
            <span aria-hidden="true">üìö</span> About contrast requirements
          </summary>
          <ul>
            <li>
              <strong>WCAG AA Normal text:</strong> 4.5:1 ‚Äî Required for body
              text
            </li>
            <li>
              <strong>WCAG AA Large text:</strong> 3:1 ‚Äî For text 18pt+ or 14pt+
              bold
            </li>
            <li>
              <strong>WCAG AAA Enhanced:</strong> 7:1 ‚Äî Recommended for best
              readability
            </li>
            <li>
              <strong>UI Components:</strong> 3:1 ‚Äî For icons, borders, focus
              indicators
            </li>
          </ul>
        </details>
      </section>

      <!-- Tool 2: Alt Text Practice (upgraded with scoring engine) -->
      <section class="tool-section" aria-labelledby="alt-title">
        <h2 id="alt-title">
          <span aria-hidden="true">üñºÔ∏è</span> Alt Text Practice
        </h2>
        <p>
          Practice writing effective alternative text for five different types
          of images. After you submit, a rule-based scoring engine will evaluate
          your text against curated model answers, key-concept coverage, and
          common anti-patterns ‚Äî no AI involved.
        </p>

        <!-- Brief intro primer -->
        <details open>
          <summary>
            <strong>What is alt text and why does it matter?</strong>
          </summary>
          <div style="padding: 0.5rem 0 0 0.5rem">
            <p>
              "Alt text" (the <code>alt</code> attribute on an
              <code>&lt;img&gt;</code> element) provides a text equivalent of an
              image for people who cannot see it. Screen readers read this text
              aloud, and it appears when images fail to load.
            </p>
            <p>
              Good alt text is <strong>concise</strong>,
              <strong>descriptive</strong>, and focused on the image's
              <strong>purpose</strong> in context ‚Äî not its pixel-level
              appearance. For decorative images that carry no information, the
              correct practice is an empty <code>alt</code> attribute
              (<code>alt=""</code>).
            </p>
            <p>
              <a
                href="https://www.w3.org/WAI/tutorials/images/decision-tree/"
                target="_blank"
                rel="noopener"
              >
                W3C Alt Text Decision Tree ‚Üó
              </a>
              ‚Äî use this to decide what kind of alt text an image needs.
            </p>
          </div>
        </details>

        <!-- Progress indicator -->
        <div
          class="alt-progress"
          id="alt-progress"
          role="status"
          aria-label="Image progress"
        >
          <!-- JS will render dots here -->
        </div>

        <div class="alt-text-exercise" id="alt-exercise">
          <!-- Image type badge -->
          <div id="alt-type-badge" class="alt-type-badge"></div>

          <!-- Context -->
          <p id="image-context">
            <strong>Context:</strong>
          </p>

          <!-- The practice image -->
          <img
            id="practice-image"
            class="alt-text-image"
            src=""
            alt="Practice image placeholder"
          />

          <!-- Input -->
          <label for="alt-input" id="alt-input-label">
            <strong>Write your alt text:</strong>
            <span
              style="
                font-weight: 400;
                color: #555;
                display: block;
                font-size: 0.9rem;
              "
            >
              For decorative images, leave this field blank.
            </span>
          </label>
          <textarea
            id="alt-input"
            class="alt-text-input"
            placeholder="Describe this image for someone who cannot see it‚Ä¶"
            rows="3"
            aria-describedby="alt-input-label"
          ></textarea>

          <!-- Action buttons -->
          <div class="alt-btn-row">
            <button
              type="button"
              class="alt-btn-check"
              id="btn-check"
              aria-describedby="alt-title"
            >
              Check my alt text
            </button>
            <button type="button" class="alt-btn-hint" id="btn-hint">
              Need a hint?
            </button>
            <button
              type="button"
              class="alt-btn-reveal"
              id="btn-reveal"
              style="display: none"
            >
              Show model answer
            </button>
            <button
              type="button"
              class="alt-btn-retry"
              id="btn-retry"
              style="display: none"
            >
              Try again
            </button>
          </div>

          <!-- Hint panel (hidden by default) -->
          <div id="alt-hint" class="alt-hint-panel" hidden>
            <!-- JS populates -->
          </div>

          <!-- Feedback panel (populated by engine) -->
          <div
            id="alt-feedback"
            class="alt-text-feedback"
            hidden
            aria-live="assertive"
            aria-atomic="true"
          ></div>

          <!-- Model answer panel (hidden until revealed) -->
          <div id="alt-model-answer" class="alt-model-answer" hidden>
            <strong>Model answers:</strong>
            <ul id="alt-model-list"></ul>
          </div>

          <!-- Navigation -->
          <div class="image-nav">
            <button type="button" id="prev-image" disabled>‚Üê Previous</button>
            <span id="image-counter">Image 1 of 5</span>
            <button type="button" id="next-image">Next ‚Üí</button>
          </div>
        </div>

        <!-- Summary (shown after all 5 are evaluated) -->
        <div id="alt-summary" class="alt-summary" hidden aria-live="polite">
          <!-- JS populates -->
        </div>

        <details>
          <summary>
            <span aria-hidden="true">üìö</span> Alt text tips and resources
          </summary>
          <ul>
            <li>Be concise but descriptive (usually under 125 characters).</li>
            <li>
              Don't start with "Image of‚Ä¶" or "Picture of‚Ä¶" ‚Äî redundant with the
              element's role.
            </li>
            <li>
              Context matters ‚Äî the same image may need different alt text on
              different pages.
            </li>
            <li>For decorative images, use empty alt (<code>alt=""</code>).</li>
            <li>Describe purpose, not just appearance.</li>
            <li>Charts &amp; graphs: summarise the data or trend.</li>
            <li>
              <a
                href="https://www.w3.org/WAI/tutorials/images/"
                target="_blank"
                rel="noopener"
              >
                W3C Images Tutorial ‚Üó
              </a>
            </li>
            <li>
              <a
                href="https://www.w3.org/TR/WCAG22/#non-text-content"
                target="_blank"
                rel="noopener"
              >
                WCAG 2.2 SC 1.1.1 ‚Äî Non-text Content ‚Üó
              </a>
            </li>
          </ul>
        </details>
      </section>

      <!-- Tool 3: Heading Structure Validator -->
      <section class="tool-section" aria-labelledby="heading-title">
        <h2 id="heading-title">
          <span aria-hidden="true">üìã</span> Heading Structure Validator
        </h2>
        <p>
          Paste your page&rsquo;s heading structure to check for hierarchy issues.
          Screen reader users navigate by headings, so a logical outline &mdash;
          H1 &rarr; H2 &rarr; H3, without skipping levels &mdash; is essential for
          usability. The validator flags skipped levels, missing H1 elements, and pages
          with multiple H1 headings, then displays a visual outline of your document
          structure.
        </p>

        <label for="heading-input"
          ><strong>Enter headings (one per line, include level):</strong></label
        >
        <textarea
          id="heading-input"
          class="heading-input"
          placeholder="H1 Page Title
H2 First Section
H3 Subsection
H3 Another Subsection
H2 Second Section
H3 Subsection"
        ></textarea>

        <button class="analyze-btn" id="btn-validate-headings" type="button">
          Validate structure
        </button>

        <div
          id="heading-output"
          class="heading-output"
          hidden
          aria-live="polite"
        >
          <h4>Heading outline</h4>
          <div id="heading-tree" class="heading-tree"></div>
          <div id="heading-issues"></div>
        </div>

        <details>
          <summary>
            <span aria-hidden="true">üìö</span> Heading structure rules
          </summary>
          <ul>
            <li>Every page should have exactly one H1</li>
            <li>Don't skip heading levels (H2 ‚Üí H4 is bad)</li>
            <li>Headings should create a logical outline</li>
            <li>Use headings for structure, not just styling</li>
            <li>Screen reader users navigate by headings</li>
          </ul>
        </details>
      </section>

      <!-- Tool 4: Link Text Checker -->
      <section class="tool-section" aria-labelledby="link-title">
        <h2 id="link-title">
          <span aria-hidden="true">üîó</span> Link Text Examples
        </h2>
        <p>
          Learn to write descriptive, meaningful link text by studying good and bad examples
          side by side. Screen reader users often browse a list of links pulled out of
          context &mdash; so vague text like &ldquo;click here&rdquo; or &ldquo;read
          more&rdquo; tells them nothing about where the link goes. These examples show
          why clear link text matters and how to write it well.
        </p>

        <div class="link-examples">
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚ùå</span>
            <div class="link-content">
              <span class="link-text">"Click here"</span>
              <p class="link-context">
                To learn more about our accessibility services, click here.
              </p>
              <span class="link-verdict bad"
                >Bad ‚Äî doesn't describe destination</span
              >
            </div>
          </div>
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚úÖ</span>
            <div class="link-content">
              <span class="link-text">"accessibility services"</span>
              <p class="link-context">
                Learn more about our accessibility services.
              </p>
              <span class="link-verdict good"
                >Good ‚Äî describes what you'll find</span
              >
            </div>
          </div>
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚ùå</span>
            <div class="link-content">
              <span class="link-text">"Read more"</span>
              <p class="link-context">
                University announces new research center. Read more.
              </p>
              <span class="link-verdict bad"
                >Bad ‚Äî no context when links are listed</span
              >
            </div>
          </div>
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚úÖ</span>
            <div class="link-content">
              <span class="link-text"
                >"Read more about the new research center"</span
              >
              <p class="link-context">
                University announces new research center. Read more about the
                new research center.
              </p>
              <span class="link-verdict good">Good ‚Äî works out of context</span>
            </div>
          </div>
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚ùå</span>
            <div class="link-content">
              <span class="link-text"
                >"https://arizona.edu/forms/registration.pdf"</span
              >
              <p class="link-context">
                Download the form: https://arizona.edu/forms/registration.pdf
              </p>
              <span class="link-verdict bad"
                >Bad ‚Äî URLs are hard to read/hear</span
              >
            </div>
          </div>
          <div class="link-example">
            <span class="link-status" aria-hidden="true">‚úÖ</span>
            <div class="link-content">
              <span class="link-text">"Registration form (PDF, 245KB)"</span>
              <p class="link-context">
                Download the Registration form (PDF, 245KB).
              </p>
              <span class="link-verdict good"
                >Good ‚Äî describes content and format</span
              >
            </div>
          </div>
        </div>

        <div
          style="
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
          "
        >
          <strong>The "list of links" test:</strong> If someone hears only the
          link text (via screen reader's links list), will they understand where
          each link goes?
        </div>
      </section>

      <!-- Tool 5: Accessibility Quick-Start Wizard -->
      <section class="tool-section" aria-labelledby="wizard-title">
        <h2 id="wizard-title">
          <span aria-hidden="true">üß≠</span> Accessibility Quick-Start Wizard
        </h2>
        <p>Answer three quick questions about your role and needs, and get a personalized list of accessibility resources, guides, and support actions. Takes about 30 seconds.</p>
        <p><a href="wizard.html" class="analyze-btn" style="display:inline-block;text-decoration:none;text-align:center;">Launch the Wizard &rarr;</a></p>
      </section>

      <!-- Tool 6: WCAG Quick Quiz -->
      <section class="tool-section" aria-labelledby="quiz-title">
        <h2 id="quiz-title">
          <span aria-hidden="true">üéØ</span> WCAG Quick Quiz
        </h2>
        <p>Test your accessibility knowledge with 10 scenario-based questions covering WCAG 2.2, ARIA, keyboard access, and more. Instant feedback and explanations help you learn as you go.</p>
        <p><a href="wcag-quiz.html" class="analyze-btn" style="display:inline-block;text-decoration:none;text-align:center;">Take the Quiz &rarr;</a></p>
      </section>

      <!-- Tool 7: Keyboard Navigation Simulator -->
      <section class="tool-section" aria-labelledby="keyboard-title">
        <h2 id="keyboard-title">
          <span aria-hidden="true">‚å®Ô∏è</span> Keyboard Navigation Simulator
        </h2>
        <p>Practice using Tab, Shift+Tab, Enter, Escape, and Arrow keys to navigate common UI patterns like menus, modals, tabs, and forms. See your keystrokes visualized in real time.</p>
        <p><a href="keyboard-simulator.html" class="analyze-btn" style="display:inline-block;text-decoration:none;text-align:center;">Try the Simulator &rarr;</a></p>
      </section>

      <!-- Tool 8: Readability Scorer -->
      <section class="tool-section" aria-labelledby="readability-title">
        <h2 id="readability-title">
          <span aria-hidden="true">üìñ</span> Readability Scorer
        </h2>
        <p>Paste any text to get its Flesch-Kincaid reading level, word and sentence counts, and plain-language suggestions. Aim for grade 8 or below to reach the widest audience.</p>
        <p><a href="readability-scorer.html" class="analyze-btn" style="display:inline-block;text-decoration:none;text-align:center;">Score Your Text &rarr;</a></p>
      </section>

      <!-- Tool 9: Low Vision Simulator -->
      <section class="tool-section" aria-labelledby="lowvision-title">
        <h2 id="lowvision-title">
          <span aria-hidden="true">üëÅÔ∏è</span> Low Vision Simulator
        </h2>
        <p>Experience how cataracts, color blindness, tunnel vision, and low contrast affect web content. Apply real-time CSS filters to sample content to understand the barriers people face.</p>
        <p><a href="low-vision-simulator.html" class="analyze-btn" style="display:inline-block;text-decoration:none;text-align:center;">Try the Simulator &rarr;</a></p>
      </section>

      <section aria-labelledby="more-tools">
        <h3 id="more-tools">More testing tools</h3>
        <p>These interactive tools complement full testing suites:</p>
        <ul>
          <li>
            <a href="testing-tools.html">Complete Testing Tools Guide</a> ‚Äî axe,
            WAVE, and more
          </li>
          <li>
            <a href="quick-reference-cards.html">Quick Reference Cards</a> ‚Äî
            Printable checklists
          </li>
          <li>
            <a href="experience-simulations.html">Disability Simulations</a> ‚Äî
            Experience barriers firsthand
          </li>
        </ul>
      </section>
    </main>
    <footer>
      <p>
        &copy; 2026 The Arizona Board of Regents on behalf of The University of
        Arizona.
      </p>
      <p>
        Questions?
        <a href="mailto:accessibility@arizona.edu">accessibility@arizona.edu</a>
        | <a href="tel:+15206213268">520-621-3268</a>
      </p>
    </footer>

    <script>
      // ========== Color Contrast Checker ==========
      const fgPicker = document.getElementById("fg-color-picker");
      const fgInput = document.getElementById("fg-color");
      const bgPicker = document.getElementById("bg-color-picker");
      const bgInput = document.getElementById("bg-color");

      function hexToRgb(hex) {
        hex = hex.replace("#", "");
        if (hex.length === 3) {
          hex = hex
            .split("")
            .map((c) => c + c)
            .join("");
        }
        const num = parseInt(hex, 16);
        return {
          r: (num >> 16) & 255,
          g: (num >> 8) & 255,
          b: num & 255,
        };
      }

      function getLuminance(r, g, b) {
        const [rs, gs, bs] = [r, g, b].map((c) => {
          c = c / 255;
          return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
        });
        return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
      }

      function getContrastRatio(hex1, hex2) {
        const rgb1 = hexToRgb(hex1);
        const rgb2 = hexToRgb(hex2);
        const l1 = getLuminance(rgb1.r, rgb1.g, rgb1.b);
        const l2 = getLuminance(rgb2.r, rgb2.g, rgb2.b);
        const lighter = Math.max(l1, l2);
        const darker = Math.min(l1, l2);
        return (lighter + 0.05) / (darker + 0.05);
      }

      function updateContrast() {
        const fg = fgInput.value;
        const bg = bgInput.value;

        if (!/^#[0-9A-Fa-f]{6}$/.test(fg) || !/^#[0-9A-Fa-f]{6}$/.test(bg))
          return;

        const ratio = getContrastRatio(fg, bg);

        // Update preview
        const preview = document.getElementById("contrast-preview");
        preview.style.color = fg;
        preview.style.background = bg;

        // Update results
        document.querySelector("#result-ratio .contrast-ratio").textContent =
          ratio.toFixed(2) + ":1";

        const updateResult = (id, passes) => {
          const el = document.getElementById(id);
          el.classList.toggle("pass", passes);
          el.classList.toggle("fail", !passes);
          el.querySelector(".result-icon").textContent = passes ? "‚úì" : "‚úó";
        };

        updateResult("result-ratio", ratio >= 4.5);
        updateResult("result-aa-normal", ratio >= 4.5);
        updateResult("result-aa-large", ratio >= 3);
        updateResult("result-aaa", ratio >= 7);
      }

      fgPicker.addEventListener("input", () => {
        fgInput.value = fgPicker.value;
        updateContrast();
      });
      fgInput.addEventListener("input", () => {
        if (/^#[0-9A-Fa-f]{6}$/.test(fgInput.value)) {
          fgPicker.value = fgInput.value;
        }
        updateContrast();
      });
      bgPicker.addEventListener("input", () => {
        bgInput.value = bgPicker.value;
        updateContrast();
      });
      bgInput.addEventListener("input", () => {
        if (/^#[0-9A-Fa-f]{6}$/.test(bgInput.value)) {
          bgPicker.value = bgInput.value;
        }
        updateContrast();
      });

      // ========== Alt Text Practice (upgraded engine) ==========
      // ALT_TEXT_IMAGES and evaluateAltText / generateFeedbackHTML are
      // loaded from scripts/alt-text-data.js and scripts/alt-text-engine.js

      let currentImageIndex = 0;
      /** Per-image results: { [index]: resultObject } */
      const imageResults = {};

      // ‚îÄ‚îÄ DOM refs ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      const $img = document.getElementById("practice-image");
      const $context = document.getElementById("image-context");
      const $input = document.getElementById("alt-input");
      const $feedback = document.getElementById("alt-feedback");
      const $hint = document.getElementById("alt-hint");
      const $modelBox = document.getElementById("alt-model-answer");
      const $modelList = document.getElementById("alt-model-list");
      const $badge = document.getElementById("alt-type-badge");
      const $counter = document.getElementById("image-counter");
      const $progress = document.getElementById("alt-progress");
      const $summary = document.getElementById("alt-summary");
      const btnCheck = document.getElementById("btn-check");
      const btnHint = document.getElementById("btn-hint");
      const btnReveal = document.getElementById("btn-reveal");
      const btnRetry = document.getElementById("btn-retry");
      const btnPrev = document.getElementById("prev-image");
      const btnNext = document.getElementById("next-image");

      // ‚îÄ‚îÄ Progress dots ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      function renderProgress() {
        let html = "";
        ALT_TEXT_IMAGES.forEach((_, i) => {
          const cls =
            i === currentImageIndex
              ? "active"
              : imageResults[i]
                ? "completed"
                : "";
          const label = imageResults[i]
            ? `Image ${i + 1}: ${imageResults[i].rating}`
            : `Image ${i + 1}: not attempted`;
          html +=
            `<span class="alt-progress-dot ${cls}" ` +
            `aria-label="${label}" title="${label}"></span>`;
        });
        const done = Object.keys(imageResults).length;
        html += `<span class="alt-progress-label">${done} of ${ALT_TEXT_IMAGES.length} completed</span>`;
        $progress.innerHTML = html;
      }

      // ‚îÄ‚îÄ Load image by index ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      function loadImage(index) {
        const data = ALT_TEXT_IMAGES[index];

        // Type badge
        $badge.textContent = data.title;
        $badge.className = "alt-type-badge " + data.imageType;

        // Context
        $context.innerHTML = "<strong>Context:</strong> " + data.context;

        // Image ‚Äî use real file if available, otherwise SVG placeholder
        if (data.src) {
          $img.src = data.src;
          // Accessibility: set a generic alt so it doesn't reveal the answer
          $img.alt =
            "Practice image " +
            (index + 1) +
            " of " +
            ALT_TEXT_IMAGES.length +
            " (" +
            data.title +
            ")";
        } else {
          $img.src =
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' " +
            "width='400' height='250' viewBox='0 0 400 250'%3E" +
            "%3Crect fill='%23e3f2fd' width='400' height='250'/%3E" +
            "%3Ctext x='200' y='120' text-anchor='middle' fill='%231565c0' " +
            "font-size='14' font-family='Arial'%3E" +
            encodeURIComponent(data.placeholderLabel) +
            "%3C/text%3E%3C/svg%3E";
          $img.alt =
            "Practice image " + (index + 1) + " of " + ALT_TEXT_IMAGES.length;
        }

        // Photo credit (small text below image)
        var $credit = document.getElementById("image-credit");
        if (!$credit) {
          $credit = document.createElement("p");
          $credit.id = "image-credit";
          $credit.style.cssText =
            "font-size:0.8rem;color:#777;text-align:center;margin:-0.5rem 0 0.5rem;";
          $img.parentNode.insertBefore($credit, $img.nextSibling);
        }
        $credit.textContent = data.credit || "";

        // Counter
        $counter.textContent =
          "Image " + (index + 1) + " of " + ALT_TEXT_IMAGES.length;

        // Reset interactive state
        $input.value = "";
        $feedback.hidden = true;
        $feedback.className = "alt-text-feedback";
        $hint.hidden = true;
        $modelBox.hidden = true;
        btnReveal.style.display = "none";
        btnRetry.style.display = "none";

        // Navigation
        btnPrev.disabled = index === 0;
        btnNext.disabled = index === ALT_TEXT_IMAGES.length - 1;

        // If this image was already evaluated, restore result
        if (imageResults[index]) {
          restoreResult(index);
        }

        renderProgress();

        // Focus the textarea for keyboard users
        $input.focus();
      }

      /** Re-display a stored result without re-evaluating */
      function restoreResult(index) {
        const result = imageResults[index];
        const data = ALT_TEXT_IMAGES[index];
        $feedback.innerHTML = generateFeedbackHTML(result, data);
        $feedback.className = "alt-text-feedback " + result.ratingClass;
        $feedback.hidden = false;
        btnReveal.style.display = "";
        btnRetry.style.display = "";
      }

      // ‚îÄ‚îÄ Check button ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      btnCheck.addEventListener("click", function () {
        const data = ALT_TEXT_IMAGES[currentImageIndex];
        const userText = $input.value;

        // For decorative images, an empty string IS the answer, so don't
        // block on empty unless non-decorative.
        if (data.imageType !== "decorative" && userText.trim() === "") {
          $feedback.innerHTML =
            '<span aria-hidden="true">‚ùå</span> ' +
            "Please enter alt text. This is not a decorative image ‚Äî " +
            "it needs a description.";
          $feedback.className = "alt-text-feedback insufficient";
          $feedback.hidden = false;
          return;
        }

        const result = evaluateAltText(userText, data);
        imageResults[currentImageIndex] = result;

        $feedback.innerHTML = generateFeedbackHTML(result, data);
        $feedback.className = "alt-text-feedback " + result.ratingClass;
        $feedback.hidden = false;
        btnReveal.style.display = "";
        btnRetry.style.display = "";

        renderProgress();
        maybeShowSummary();
      });

      // ‚îÄ‚îÄ Hint button ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      btnHint.addEventListener("click", function () {
        const data = ALT_TEXT_IMAGES[currentImageIndex];
        if ($hint.hidden) {
          let html =
            "<strong>Hints for this image type " +
            "(<em>" +
            data.title +
            '</em>):</strong><ul style="margin:0.4rem 0 0 1.2rem;">';
          data.hints.forEach(function (h) {
            html += "<li>" + h + "</li>";
          });
          html += "</ul>";
          $hint.innerHTML = html;
          $hint.hidden = false;
          btnHint.textContent = "Hide hints";
        } else {
          $hint.hidden = true;
          btnHint.textContent = "Need a hint?";
        }
      });

      // ‚îÄ‚îÄ Reveal model answer ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      btnReveal.addEventListener("click", function () {
        const data = ALT_TEXT_IMAGES[currentImageIndex];
        if ($modelBox.hidden) {
          let items = "";
          data.modelAnswers.forEach(function (a) {
            const display = a === "" ? '<code>alt=""</code> (empty)' : a;
            items += "<li>" + display + "</li>";
          });
          $modelList.innerHTML = items;
          $modelBox.hidden = false;
          btnReveal.textContent = "Hide model answer";
        } else {
          $modelBox.hidden = true;
          btnReveal.textContent = "Show model answer";
        }
      });

      // ‚îÄ‚îÄ Try again ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      btnRetry.addEventListener("click", function () {
        $input.value = "";
        $feedback.hidden = true;
        $hint.hidden = true;
        $modelBox.hidden = true;
        btnReveal.style.display = "none";
        btnRetry.style.display = "none";
        btnHint.textContent = "Need a hint?";
        btnReveal.textContent = "Show model answer";
        delete imageResults[currentImageIndex];
        renderProgress();
        $summary.hidden = true;
        $input.focus();
      });

      // ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      btnPrev.addEventListener("click", function () {
        if (currentImageIndex > 0) {
          currentImageIndex--;
          loadImage(currentImageIndex);
        }
      });
      btnNext.addEventListener("click", function () {
        if (currentImageIndex < ALT_TEXT_IMAGES.length - 1) {
          currentImageIndex++;
          loadImage(currentImageIndex);
        }
      });

      // ‚îÄ‚îÄ Summary after all 5 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      function maybeShowSummary() {
        if (Object.keys(imageResults).length < ALT_TEXT_IMAGES.length) return;

        const scores = Object.values(imageResults).map(function (r) {
          return r.score;
        });
        const avg =
          scores.reduce(function (a, b) {
            return a + b;
          }, 0) / scores.length;
        const avgPct = Math.round(avg * 100);

        let cls = "";
        if (avg >= 0.7)
          cls = ""; // green (default)
        else if (avg >= 0.4)
          cls = "mixed"; // amber
        else cls = "poor"; // red

        let html = "<h4>All 5 images completed!</h4>";
        html += "<p><strong>Overall score: " + avgPct + "%</strong></p>";
        html += "<ul>";
        ALT_TEXT_IMAGES.forEach(function (data, i) {
          const r = imageResults[i];
          html +=
            "<li><strong>" +
            data.title +
            ":</strong> " +
            r.rating +
            " (" +
            Math.round(r.score * 100) +
            "%)</li>";
        });
        html += "</ul>";

        // Common-mistakes recap
        const allMessages = [];
        Object.values(imageResults).forEach(function (r) {
          r.messages.forEach(function (m) {
            if (m.type === "error" || m.type === "warning")
              allMessages.push(m.text);
          });
        });
        if (allMessages.length > 0) {
          html += "<p><strong>Areas to review:</strong></p><ul>";
          // Deduplicate similar messages
          const seen = new Set();
          allMessages.forEach(function (t) {
            const key = t.substring(0, 40);
            if (!seen.has(key)) {
              seen.add(key);
              html += "<li>" + t + "</li>";
            }
          });
          html += "</ul>";
        }

        html +=
          '<p style="margin-top:0.75rem;">Learn more: ' +
          '<a href="https://www.w3.org/TR/WCAG22/#non-text-content" ' +
          'target="_blank" rel="noopener">WCAG 2.2 SC 1.1.1</a> ¬∑ ' +
          '<a href="https://www.w3.org/WAI/tutorials/images/decision-tree/" ' +
          'target="_blank" rel="noopener">W3C Alt Decision Tree</a></p>';

        $summary.innerHTML = html;
        $summary.className = "alt-summary " + cls;
        $summary.hidden = false;
      }

      // ‚îÄ‚îÄ Initialise ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      loadImage(0);

      // ========== Heading Validator ==========
      function validateHeadings() {
        const input = document.getElementById("heading-input").value.trim();
        const output = document.getElementById("heading-output");
        const tree = document.getElementById("heading-tree");
        const issues = document.getElementById("heading-issues");

        if (!input) {
          output.hidden = true;
          return;
        }

        const lines = input.split("\n").filter((line) => line.trim());
        const headings = [];
        const errors = [];
        const warnings = [];

        // Parse headings
        lines.forEach((line, i) => {
          const match = line.match(/^h?(\d)\s+(.+)/i);
          if (match) {
            headings.push({
              level: parseInt(match[1]),
              text: match[2].trim(),
              line: i + 1,
            });
          }
        });

        // Build tree visualization
        let treeHtml = "";
        headings.forEach((h) => {
          const indent = "  ".repeat(h.level - 1);
          treeHtml += `${indent}H${h.level}: ${h.text}\n`;
        });
        tree.textContent = treeHtml || "No valid headings found";

        // Check for issues
        const h1Count = headings.filter((h) => h.level === 1).length;
        if (h1Count === 0) {
          errors.push("No H1 found ‚Äî every page needs exactly one H1");
        } else if (h1Count > 1) {
          errors.push(
            `Found ${h1Count} H1 headings ‚Äî there should only be one`,
          );
        }

        // Check for skipped levels
        for (let i = 1; i < headings.length; i++) {
          const prev = headings[i - 1].level;
          const curr = headings[i].level;
          if (curr > prev + 1) {
            errors.push(
              `Skipped heading level: H${prev} ‚Üí H${curr} at "${headings[i].text}"`,
            );
          }
        }

        // Check if first heading is H1
        if (headings.length > 0 && headings[0].level !== 1) {
          warnings.push("Page should start with H1, not H" + headings[0].level);
        }

        // Display issues
        let issuesHtml = "";
        errors.forEach((e) => {
          issuesHtml += `<p class="heading-error">‚ùå ${e}</p>`;
        });
        warnings.forEach((w) => {
          issuesHtml += `<p class="heading-warning">‚ö†Ô∏è ${w}</p>`;
        });
        if (errors.length === 0 && warnings.length === 0) {
          issuesHtml =
            '<p class="heading-success">‚úÖ Heading structure looks good!</p>';
        }
        issues.innerHTML = issuesHtml;

        output.hidden = false;
      }

      // Bind heading validator button (replaces inline onclick)
      document.getElementById('btn-validate-headings').addEventListener('click', validateHeadings);
    </script>
    <script src="scripts/feedback-widget.js" defer></script>
  </body>
</html>
