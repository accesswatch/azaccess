<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Document</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <a class="skip-link" href="maincontent" href="#maincontent">Skip to main content</a>
  <header id="page-header"><p><a href="home.html">Accessibility Home</a> / Docs</p></header>
  <main id="maincontent" class="doc-content" role="main">
    <article id="content">Loadingâ€¦</article>
  </main>
  <footer role="contentinfo">
    <p>&copy; 2025 The University of Arizona.</p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    (async function(){
      // determine md path by replacing .html with .md
      let path = location.pathname;
      // when served, filename ends with .html; replace with .md
      let mdPath = path.replace(/\.html$/, '.md');
      // For file:// paths, location.pathname may include drive letters; use relative fetch
      const parts = mdPath.split('/');
      const mdFile = parts[parts.length-1];
      try {
        const res = await fetch(mdFile);
        const text = await res.text();
        // extract simple YAML front matter title
        let title = '';
        const fm = text.match(/^---\n([\s\S]*?)\n---/);
        let body = text;
        if (fm) {
          const yaml = fm[1];
          const m = yaml.match(/^title:\s*(.*)$/m);
          if (m) title = m[1].replace(/^\s+|\s+$/g,'').replace(/"/g,'');
          body = text.slice(fm[0].length);
        }
        const html = marked.parse(body);
        if (title) document.title = title + ' | Accessibility';
        const header = title ? ('<h1>'+title+'</h1>') : '';
        document.getElementById('content').innerHTML = header + html;
      } catch (e) {
        document.getElementById('content').textContent = 'Error loading document: ' + e;
      }
    })();
  </script>
</body>
</html>